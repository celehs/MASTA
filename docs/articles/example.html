<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PETLER Example â€¢ PETLER</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="PETLER Example">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PETLER</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/data.html">Data</a>
</li>
<li>
  <a href="../articles/example.html">Example</a>
</li>
<li>
  <a href="../articles/scalability.html">Scalability</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/celehs/PETLER">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>PETLER Example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/celehs/PETLER/blob/master/vignettes/example.Rmd"><code>vignettes/example.Rmd</code></a></small>
      <div class="hidden name"><code>example.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(PETLER)</a></code></pre></div>
<div id="base-creation" class="section level2">
<h2 class="hasAnchor">
<a href="#base-creation" class="anchor"></a>Base Creation</h2>
<p>Next, we can use the <code>petler.base</code> function to create the base functions required to run the PETLER algorithm. By default, you only need to provide data in the list format mentioned above. However, you can view the help documentation (<code><a href="../reference/petler.base.html">?petler.base</a></code>) or click <a href="https://celehs.github.io/PETLER/reference/petler.base.html">HERE</a> to customize configurable arguments.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(obj &lt;-<span class="st"> </span><span class="kw"><a href="../reference/petler.base.html">petler.base</a></span>(data_org))</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">##    user  system elapsed </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">## 105.951   8.623  74.716</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(obj)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">##  [1] "nn"                 "codes"              "Tend"               "TrainSurv"         </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">##  [5] "ValidSurv"          "TrainSurv_pred_org" "ValidSurv_pred_org" "TrainN"            </span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">##  [9] "ValidN"             "TrainFt"            "ValidFt"            "TrainPK"           </span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">## [13] "ValidPK"            "TrainSc"            "ValidSc"            "base"</span></a></code></pre></div>
<p>In order to analyze very large data, the <code>petler.base</code> function uses multi-core parallel computing by default.</p>
</div>
<div id="petler-output" class="section level2">
<h2 class="hasAnchor">
<a href="#petler-output" class="anchor"></a>PETLER Output</h2>
<p>We can now run the PETLER algorithm by calling the <code>petler</code> function and providing the base object obtained from the previous step. Use <code><a href="../reference/petler.html">?petler</a></code> or click <a href="https://celehs.github.io/PETLER/reference/petler.html">HERE</a> to view help documentation and configurable arguments.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/petler.html">petler</a></span>(obj))</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">##    user  system elapsed </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">## 263.960   0.357 264.322</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">out</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">## $bgbbest_FromChengInit_BFGS</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">##         bgbm.init                       AIC          BIC     AIC.Orig     BIC.Orig</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">##  [1,] -9.87969646 -10.79691085 -10.79692434 -10.75794193 -10.79692434 -10.75794193</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">##  [2,]  4.48177317   5.03813484   5.03814476   5.07330249   5.03814476   5.07330249</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">##  [3,]  4.65342077   5.69122756   5.69124364   5.75081603   5.69124364   5.75081603</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">##  [4,]  5.45940846   6.29237743   6.29239165   6.32969570   6.29239165   6.32969570</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">##  [5,]  4.89248832   6.06793207   6.06793835   6.07924861   6.06793835   6.07924861</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">##  [6,]  6.10053515   7.38817747   7.38819109   7.41100265   7.38819109   7.41100265</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">##  [7,]  5.73140066   7.20464369   7.20466760   7.22170381   7.20466760   7.22170381</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">##  [8,]  5.47434853   7.32434662   7.32436190   7.34953643   7.32436190   7.34953643</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">##  [9,]  6.05286792   8.35175213   8.35175566   8.31452535   8.35175566   8.31452535</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">## [10,]  5.47763858   8.12143556   8.12143377   8.11948380   8.12143377   8.11948380</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">## [11,]  4.07928317   8.81918182   8.81919596   8.68587096   8.81919596   8.68587096</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">## [12,]  0.13849840   0.04897978   0.04896546   0.07206851   0.04896546   0.07206851</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">## [13,] -0.30551686  -0.44938353  -0.44937561  -0.44192087  -0.44937561  -0.44192087</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">## [14,] -0.29728633  -0.49206422  -0.49204947  -0.48881877  -0.49204947  -0.48881877</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">## [15,]  0.01647202   0.23308729   0.23308184   0.22415821   0.23308184   0.22415821</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">## [16,]  1.01617391   0.92380885   0.92384270   0.92406782   0.92384270   0.92406782</span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">## [17,]  0.95483326  -0.02422431  -0.02420684   0.03083804  -0.02420684   0.03083804</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">## [18,]  0.40950961  -0.43904008  -0.43906037  -0.31979386  -0.43906037  -0.31979386</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">## [19,]  0.08740150   0.02767696   0.02766693   0.00000000   0.02766693   0.00000000</span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">## [20,]  0.26818065   0.11630796   0.11630971   0.00000000   0.11630971   0.00000000</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">## [21,]  0.39186037   0.41746933   0.41746467   0.00000000   0.41746467   0.00000000</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">## [22,] -0.04727369   0.04416269   0.04413554   0.00000000   0.04413554   0.00000000</span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">## [23,]  1.89311596   2.22704509   2.22702315   2.20661049   2.22702315   2.20661049</span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">## [24,] -0.53044488  -1.67591615  -1.67587577  -1.69728793  -1.67587577  -1.69728793</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">## </span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="co">## $Cstat_BrierSc_ChengInit_BFGS</span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="co">##                  Init       MLE       AIC       BIC  AIC.Orig  BIC.Orig     Cheng     NPMLE</span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="co">## Cstat       0.8579176 0.8546181 0.8546181 0.8454540 0.8546181 0.8454540 0.8579176 0.8742679</span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co">## BrierSc.Adj 0.2511846 0.4292311 0.4292281 0.4146351 0.4292281 0.4146351 0.2514408 0.4401724</span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="co">##                TreeTN      TreeAll      logi</span></a>
<a class="sourceLine" id="cb3-37" data-line-number="37"><span class="co">## Cstat       0.8471663  0.844511944 0.8578160</span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"><span class="co">## BrierSc.Adj 0.1459797 -0.009839582 0.2137836</span></a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="co">## </span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="co">## $group</span></a>
<a class="sourceLine" id="cb3-41" data-line-number="41"><span class="co">##  [1] 1 2 3 4 4 4 4 5 5 5 5 6 6</span></a></code></pre></div>
<p>The <code>petler</code> function returns the following list of results:</p>
<ul>
<li><p><code>bgbbest_FromChengInit_BFGS</code> Details of the fitted model</p></li>
<li><p><code>Cstat_BrierSc_ChengInit_BFGS</code> C-statistics and adjusted Brier scores of the derived algorithm</p></li>
<li><p><code>group</code> A vector of consecutive integers describing the grouping coefficients</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#base-creation">Base Creation</a></li>
      <li><a href="#petler-output">PETLER Output</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Liang Liang, Hajime Uno, Ming Yang, Tianxi Cai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
